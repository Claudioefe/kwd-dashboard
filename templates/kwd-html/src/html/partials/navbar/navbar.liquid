<header
  class="
    hidden
    sticky
    top-0
    z-[5]
    md:flex
    items-center
    justify-between
    flex-shrink-0
    h-full
    px-2
    transition-transform
    duration-500
    bg-white
    border-b border-b-gray-300
    dark:border-b-gray-700
    sm:px-4
    max-h-14
    dark:bg-gray-900
  "
  :class="{ '-translate-y-full': scrollingDown, '-translate-y-0': scrollingUp }"
>
  <div class="flex items-center">
    <!-- Sidebar button -->
    {% render 'components/icon-button', type: 'button', text: 'Open sidebar', iconClass: 'bx-menu', iconSize: 'sm', attrs: '@click="isSidebarOpen = !isSidebarOpen"'  %}
  </div>

  <nav aria-label="Secondary" class="flex items-center gap-2">
    <!-- Toggle dark mode button -->
    {% render 'components/icon-button', type: 'button', text: 'toggle dark mode', iconSize: 'sm',
      attrs: '@click="toggleTheme"' iconAttrs: ':class="isDark ? `bx-sun` : `bx-moon`"' %}

    {% render 'components/icon-button', type: 'button', text: 'Open search panel', iconClass: 'bx-search', iconSize: 'sm' %}

    {% render 'components/icon-button', type: 'button', text: 'Open notifications panel', iconClass: 'bx-bell', iconSize: 'sm' %}

    {% render 'components/icon-button', type: 'button', text: 'Open settings panel', iconClass: 'bx-cog', iconSize: 'sm' %}
    
    <button
      type="button"
      aria-haspopup="true"
      class="transition-opacity duration-200 rounded-full hover:opacity-80 dark:opacity-75 dark:hover:opacity-100 focus:outline-none focus:ring dark:focus:opacity-100"
    >
      <span class="sr-only">User menu</span>
      <img
        class="w-10 h-10 rounded-full"
        src="https://avatars.githubusercontent.com/u/57622665?v=4"
        alt="Ahmed Kamel"
      />
    </button>
  </nav>
</header>

<!-- Mobile sub menu -->
<nav
  x-transition:enter="transition-all"
  x-transition:enter-start="opacity-0 -translate-y-full"
  x-transition:enter-end="opacity-100 translate-y-0"
  x-transition:leave="transition-all"
  x-transition:leave-start="opacity-100 translate-y-0"
  x-transition:leave-end="opacity-0 -translate-y-full"
  x-show="isMobileSubMenuOpen"
  @click.outside="isMobileSubMenuOpen = false"
  aria-label="Secondary"
  class="fixed z-40 flex items-center justify-between p-2 bg-white rounded-md shadow-lg md:hidden dark:bg-gray-900 top-6 inset-x-4"
>
  <div class="flex items-center gap-2">
    <!-- Toggle dark mode button -->
    {% render 'components/icon-button', type: 'button', text: 'toggle dark mode', iconSize: 'sm',
      attrs: '@click="toggleTheme"' iconAttrs: ':class="isDark ? `bx-sun` : `bx-moon`"' %}

    {% render 'components/icon-button', type: 'button', text: 'Open search panel', iconClass: 'bx-search', iconSize: 'sm' %}

    {% render 'components/icon-button', type: 'button', text: 'Open notifications panel', iconClass: 'bx-bell', iconSize: 'sm' %}

    {% render 'components/icon-button', type: 'button', text: 'Open settings panel', iconClass: 'bx-cog', iconSize: 'sm' %}
  </div>

  <button
    type="button"
    aria-haspopup="true"
    class="transition-opacity duration-200 rounded-full hover:opacity-80 dark:opacity-75 dark:hover:opacity-100 focus:outline-none focus:ring dark:focus:opacity-100"
  >
    <span class="sr-only">User menu</span>
    <img class="w-10 h-10 rounded-full" src="https://avatars.githubusercontent.com/u/57622665?v=4" alt="Ahmed Kamel" />
  </button>
</nav>
